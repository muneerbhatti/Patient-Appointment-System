<div class="col-lg-12">
  <div class="card">
    <div class="card-body">
      <h1 class="text-center">Doctor Information</h1>
      <p class="notice"><%= notice %></p>
    </div>

    <% if current_user.userable_type == "Admin" || current_user.userable_type == "Reception" %>  
      <div class="col-lg-4 search-bar">
        <%= form_with(url: doctors_path, method: :get, local: true, class: 'search-form') do |form| %>
          <div class="input-group justify-content-center">
            <%= form.text_field :search, placeholder: "Search doctors", class: "form-control" %>
            <span class="input-group-btn">
              <%= form.submit "Search", class: "btn btn-primary" %>
            </span>
          </div>
        <% end %>
      </div>
      <div class="abc">
        <%= link_to 'New doctor', new_doctor_path, class: 'btn btn-primary btn-lg' %>
      </div>
    <% end %>

    <% if current_user.userable_type == "Doctor" %>
      <% @doctors.each do |doctor| %>
        <div class="card1">
          <%= image_tag "avatar5.png", alt: "Doctor Profile", style: "width:100%" %>
          <h1><%= doctor.Name %></h1>
          <p class="title">Specialization: <%= doctor.Specialization %></p>
          <p>Email: <%= doctor.Email %></p>
          <p>Contact: <%= doctor.ContactNo %></p>
          <p>Address: <%= doctor.Address %></p>
          <p>Experience: <%= doctor.experience_year %> years</p>
          <p><%= link_to "Edit", edit_doctor_path(doctor), class: "btn1 btn-info" %></p>
        </div>
      <% end %>
    
    <% elsif current_user.userable_type == "Patient" %>
      <div class="col-sm-12">
        
          <div class="btn-group w-100 mb-2">
            <div class="row">
          <% @doctors.each do |doctor| %>
            <div class="card2">
              <%= image_tag "avatar5.png", alt: "Doctor Profile", style: "width:100%" %>
              <h1><%= doctor.Name %></h1>
              <p class="title">Specialization: <%= doctor.Specialization %></p>
              <p>Email: <%= doctor.Email %></p>
              <p>Contact: <%= doctor.ContactNo %></p>
              <p>Address: <%= doctor.Address %></p>
              <p>Experience: <%= doctor.experience_year %> years</p>
             <a href="tel:<%= doctor.ContactNo %>">
              <button>Contact</button>
              </a>
            </div>
          <% end %>
        </div>
      </div>
</div>
    <% else %> 
      <table class="table-bordered table">
        <thead>
          <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Email</th>
            <th>Contact</th>
            <th>Address</th>
            <th>Specialization</th>
            <th>Experience</th>
            <% if ["Admin", "Reception", "Doctor"].include?(current_user.userable_type) %>
              <th>Actions</th>
            <% end %>
          </tr>
        </thead>
        <tbody>
          <% @doctors.each do |doctor| %>
            <tr>
              <td><%= doctor.id %></td>
              <td><%= doctor.Name %></td>
              <td><%= doctor.Email %></td>
              <td><%= doctor.ContactNo %></td>
              <td><%= doctor.Address %></td>
              <td><%= doctor.Specialization %></td>
              <td><%= doctor.experience_year %></td>

              <% if current_user.userable_type == "Admin" || current_user.userable_type == "Reception" %>
                <td>
                  <%= link_to "Edit", edit_doctor_path(doctor), class: 'btn btn-info btn-sm' %>
                  <%= link_to "Show", doctor_path(doctor), class: 'btn btn-primary btn-sm' %>
                  <%= link_to "Delete", doctor_path(doctor), method: :delete, data: { confirm: "Are you sure?" }, class: 'btn btn-danger btn-sm' %>
                </td>
              <% elsif current_user.userable_type == "Doctor" %>
                <td>
                  <%= link_to "Edit", edit_doctor_path(doctor), class: 'btn btn-info btn-sm' %>
                </td>
              <% end %>
            </tr>
          <% end %>
        </tbody>
      </table>
    <% end %>
  </div>
</div>

<style type="text/css">
  .table {
    position: relative;
    top: 20px;
  }
  .abc {
    position: relative;
    top: 20px;
    padding: 35px;
  }
  .search-bar {
    position: relative;
    left: 500px;
    top: 20px;
  }
  .card1 {
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
  max-width: 300px;
  margin: auto;
  text-align: center;
  font-family: arial;
}
.btn1 {
    display: inline-block;
  font-size: 20px;
  padding: 6px 135px;
  background: #28a745;
  color: white;
  border: none;
  border-radius: 10px;
  text-align: center;
  cursor: pointer;
  transition: background 0.3s ease;  
}




.row {
  display: grid;
<%#   grid-template-columns: repeat(4, 1fr); /* Ensures 3 profiles per row */ %>
  gap: 20px;
  flex-wrap: wrap;
  gap: 100px; 
}

.card2 {
  border: 1px solid #ccc;
  padding: 15px;
  text-align: center;
  border-radius: 8px;
  background-color: #f9f9f9;
} 






.title {
  color: grey;
  font-size: 18px;
}

button {
  border: none;
  outline: 0;
  display: inline-block;
  padding: 8px;
  color: white;
  background-color: #000;
  text-align: center;
  cursor: pointer;
  width: 100%;
  font-size: 18px;
}

a {
  text-decoration: none;
  font-size: 22px;
  color: black;
}

button:hover, a:hover {
  opacity: 0.7;
}
</style>
</style>
